<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MT Variedades | Business Suite White</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-hover: #4f46e5;
            --sidebar-bg: #ffffff;
            --main-bg: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #1e293b;
            --text-sub: #64748b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 16px;
            --border: #e2e8f0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        body { background-color: var(--main-bg); display: flex; height: 100vh; color: var(--text-main); overflow: hidden; }

        /* --- SIDEBAR --- */
        #sidebar { 
            width: 260px; background: var(--sidebar-bg); border-right: 1px solid var(--border);
            display: flex; flex-direction: column; padding: 25px; z-index: 10;
        }
        .logo { 
            padding-bottom: 30px; font-size: 1.5rem; font-weight: 800; color: var(--primary);
            letter-spacing: -1px; text-align: center;
        }
        .nav-link { 
            width: 100%; padding: 12px 15px; background: transparent; border: none; 
            color: var(--text-sub); text-align: left; cursor: pointer; border-radius: 12px; margin-bottom: 5px; 
            transition: 0.2s; font-weight: 600; display: flex; align-items: center; gap: 10px;
        }
        .nav-link:hover { background: #f1f5f9; color: var(--primary); }
        .nav-link.active { background: var(--primary); color: white; box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.2); }

        .dev-footer {
            margin-top: auto;
            padding-top: 20px;
            font-size: 0.7rem;
            color: var(--text-sub);
            border-top: 1px solid var(--border);
        }
        .dev-footer a {
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center; gap: 5px; margin-top: 5px; font-weight: 700;
        }

        /* --- CONTENT --- */
        #main { flex: 1; padding: 30px 40px; overflow-y: auto; }
        .page { display: none; max-width: 1200px; margin: 0 auto; animation: slideUp 0.3s ease; }
        .page.active { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .card { background: var(--card-bg); border-radius: var(--radius); padding: 25px; box-shadow: var(--shadow); border: 1px solid var(--border); margin-bottom: 25px; }
        
        table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        th { padding: 12px; color: var(--text-sub); font-size: 0.75rem; text-transform: uppercase; text-align: left; font-weight: 700; }
        td { padding: 14px; background: white; border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); }
        tr td:first-child { border-left: 1px solid var(--border); border-radius: 12px 0 0 12px; }
        tr td:last-child { border-right: 1px solid var(--border); border-radius: 0 12px 12px 0; }

        .search-box { width: 100%; padding: 14px 20px; border-radius: 12px; border: 1px solid var(--border); font-size: 1rem; margin-bottom: 20px; transition: 0.3s; background: #fff; }
        .search-box:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1); }
        
        .btn { padding: 12px 20px; border: none; border-radius: 10px; cursor: pointer; font-weight: 700; text-transform: uppercase; font-size: 0.75rem; transition: 0.2s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-success { background: var(--success); color: white; }
        .btn-warning { background: var(--warning); color: white; }
        .btn-danger { background: var(--danger); color: white; }

        #screensaver {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            z-index: 9999; 
            display: none; 
            flex-direction: column;
            align-items: center; justify-content: center;
            text-align: center; color: white;
            cursor: pointer;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .saver-content h1 { font-size: 5rem; font-weight: 900; margin-bottom: 10px; text-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .saver-content #saver-time { font-size: 4rem; font-weight: 300; margin-bottom: 5px; }
        .saver-content #saver-date { font-size: 1.5rem; opacity: 0.9; margin-bottom: 30px; }

        #pay-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.4); backdrop-filter: blur(4px); display: none; align-items: center; justify-content: center; z-index: 1000; }
        .pay-btn.selected { background: var(--primary) !important; color: white !important; }
        .search-item.selected { background: #f1f5f9; border-left: 4px solid var(--primary); }
    </style>
</head>
<body>

    <div id="screensaver">
        <div class="saver-content">
            <h1>MT VARIEDADES</h1>
            <p id="saver-time">00:00:00</p>
            <p id="saver-date">Carregando data...</p>
            <p style="font-size: 0.9rem; margin-top: 50px; opacity: 0.7; font-weight: 600;">Pressione qualquer tecla ou clique para voltar</p>
        </div>
    </div>

    <aside id="sidebar">
        <div class="logo">MT VARIEDADES</div>
        <button class="nav-link active" onclick="nav('pdv')">üõí Venda R√°pida</button>
        <button class="nav-link" onclick="nav('estoque')">üì¶ Estoque</button>
        <button class="nav-link" onclick="nav('historico')">üìä Faturamento</button>
        <button class="nav-link" onclick="nav('fiado')">ü§ù Devedores</button>
        <button class="nav-link" onclick="nav('cadastro')">‚ú® Cadastrar Item</button>
        <button class="nav-link" onclick="nav('backup')">üõ°Ô∏è Backup</button>
        <button class="nav-link" onclick="nav('ajustes')">üé® Visual</button>

        <div class="dev-footer">
            Desenvolvido por:<br>
            <strong>Alisson Santos Rodrigues</strong>
            <a href="https://instagram.com/alissonnxss" target="_blank">
                <i class="fab fa-instagram"></i> @alissonnxss
            </a>
        </div>
    </aside>

    <main id="main">
        <header style="display:flex; justify-content:space-between; margin-bottom:30px; align-items: center;">
            <h2 id="page-title" style="font-weight: 800;">Frente de Caixa</h2>
            <div style="text-align: right;">
                <div id="live-clock" style="font-size: 1.2rem; font-weight: 800; color: var(--primary);">00:00:00</div>
                <div id="live-date" style="font-size: 0.8rem; color: var(--text-sub);">...</div>
            </div>
        </header>

        <section id="pg-pdv" class="page active">
            <div style="display: grid; grid-template-columns: 1fr 350px; gap: 25px;">
                <div class="card">
                    <input type="text" class="search-box" id="pos-search" placeholder="Leitor ou busca..." oninput="autoAddCheck(this.value)" onkeyup="handleSearchInput(event)">
                    <div id="pos-results" style="position:absolute; background:white; width:40%; z-index:100; border-radius:12px; box-shadow: var(--shadow); border: 1px solid var(--border);"></div>
                    <table>
                        <thead><tr><th>Produto</th><th>Pre√ßo</th><th>Qtd</th><th>Total</th><th>#</th></tr></thead>
                        <tbody id="pos-cart"></tbody>
                    </table>
                </div>
                <div class="card" style="background: #1e293b; color: white; height: fit-content;">
                    <small>TOTAL DA VENDA</small>
                    <div style="font-size: 2.5rem; font-weight: 800; color: var(--success); margin: 10px 0;" id="pos-total">R$ 0,00</div>
                    <button class="btn btn-primary" style="width:100%; margin-bottom: 10px; padding: 18px;" onclick="openPayModal()">FINALIZAR (2X ENTER)</button>
                    <button class="btn btn-warning" style="width:100%" onclick="aplicarDesconto()">DESCONTO</button>
                    <small id="desc-info" style="display:block; margin-top:10px; color:#94a3b8; text-align:center;"></small>
                </div>
            </div>
        </section>

        <section id="pg-estoque" class="page">
            <div class="card">
                <table>
                    <thead><tr><th>ID</th><th>Nome</th><th>Custo</th><th>Venda</th><th>Estoque</th><th>#</th></tr></thead>
                    <tbody id="stock-list"></tbody>
                </table>
            </div>
        </section>

        <section id="pg-historico" class="page">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div class="card" style="border-left: 4px solid var(--primary); margin:0;">
                    <small>BRUTO TOTAL</small>
                    <h2 id="fat-bruto">R$ 0,00</h2>
                </div>
                <div class="card" style="border-left: 4px solid var(--success); margin:0;">
                    <small>LUCRO ESTIMADO</small>
                    <h2 id="fat-lucro">R$ 0,00</h2>
                </div>
            </div>
            <div class="card">
                <table>
                    <thead><tr><th>Data</th><th>Itens</th><th>Total</th><th>Tipo</th><th>#</th></tr></thead>
                    <tbody id="hist-list"></tbody>
                </table>
            </div>
        </section>

        <section id="pg-fiado" class="page">
            <div class="card">
                <h3 style="margin-bottom: 15px;">ü§ù Devedores</h3>
                <table>
                    <thead><tr><th>Cliente</th><th>D√≠vida</th><th>A√ß√µes</th></tr></thead>
                    <tbody id="debt-list"></tbody>
                </table>
            </div>
        </section>

        <section id="pg-cadastro" class="page">
            <div class="card" style="max-width: 500px; margin: auto;">
                <h3 style="margin-bottom: 20px;">Novo Item</h3>
                <input type="text" id="cad-nome" class="search-box" placeholder="Nome">
                <input type="text" id="cad-id" class="search-box" placeholder="C√≥digo/ID">
                <input type="number" id="cad-qtd" class="search-box" placeholder="Quantidade">
                <input type="number" id="cad-custo" class="search-box" placeholder="Custo R$">
                <input type="number" id="cad-venda" class="search-box" placeholder="Venda R$">
                <button class="btn btn-primary" style="width: 100%;" onclick="saveProd()">SALVAR PRODUTO</button>
            </div>
        </section>

        <section id="pg-backup" class="page">
            <div class="card" style="max-width: 400px; margin: auto; text-align: center;">
                <button class="btn btn-success" style="width: 100%; margin-bottom: 15px;" onclick="exportDados()">üíæ BAIXAR BACKUP</button>
                <button class="btn" style="width: 100%; background: #f1f5f9; color: #1e293b;" onclick="document.getElementById('importFile').click()">üìÇ RESTAURAR BACKUP</button>
                <input type="file" id="importFile" style="display:none" onchange="importDados(event)">
            </div>
        </section>

        <section id="pg-ajustes" class="page">
            <div class="card">
                <h3>Cor de Destaque</h3>
                <div id="color-grid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)); gap:15px; margin-top:20px;"></div>
            </div>
        </section>
    </main>

    <div id="pay-modal" onkeydown="handleModalKeys(event)" tabindex="0">
        <div class="card" style="width: 380px; text-align: center;">
            <h3 style="margin-bottom: 25px;">Pagamento</h3>
            <button class="btn pay-btn" style="width:100%; background:#f8fafc; border:1px solid var(--border); margin-bottom:10px; color: #1e293b;" onclick="completeSale('Dinheiro')">Dinheiro</button>
            <button class="btn pay-btn" style="width:100%; background:#f8fafc; border:1px solid var(--border); margin-bottom:10px; color: #1e293b;" onclick="completeSale('Cart√£o')">Cart√£o</button>
            <button class="btn pay-btn" style="width:100%; background:#f8fafc; border:1px solid var(--border); margin-bottom:10px; color: #1e293b;" onclick="completeSale('Pix')">Pix</button>
            <button class="btn pay-btn" style="width:100%; background:#fffbeb; border:1px solid #fde68a; color:#92400e; margin-bottom:10px;" onclick="completeSale('Fiado')">Anotar Fiado</button>
            <button class="btn" style="background:none; color:var(--danger); margin-top:10px;" onclick="closeModal()">Cancelar (ESC)</button>
        </div>
    </div>

    <script>
        let prods = JSON.parse(localStorage.getItem('mt_p')) || [];
        let sales = JSON.parse(localStorage.getItem('mt_v')) || [];
        let debts = JSON.parse(localStorage.getItem('mt_f')) || [];
        let cart = [];
        let selectedIdx = -1;
        let selectedPayIdx = 0;
        let descontoTotal = 0;
        let idleSeconds = 0;
        let lastEnterTime = 0; // Novo controle de tempo para Enter Duplo

        const saver = document.getElementById('screensaver');
        function resetTimer() { idleSeconds = 0; saver.style.display = 'none'; }
        window.onload = () => { document.onmousemove = resetTimer; document.onkeypress = resetTimer; document.onclick = resetTimer; document.onscroll = resetTimer; };

        setInterval(() => {
            const now = new Date();
            const timeStr = now.toLocaleTimeString();
            const dateStr = now.toLocaleDateString('pt-BR', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });
            document.getElementById('live-clock').innerText = timeStr;
            document.getElementById('saver-time').innerText = timeStr;
            document.getElementById('live-date').innerText = dateStr;
            document.getElementById('saver-date').innerText = dateStr;
            idleSeconds++;
            if (idleSeconds >= 30 && cart.length === 0) saver.style.display = 'flex';
        }, 1000);

        saver.onclick = resetTimer;

        function nav(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('pg-' + id).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            if(event) event.currentTarget.classList.add('active');
            if(id === 'pdv') setTimeout(() => document.getElementById('pos-search').focus(), 100);
            if(id === 'estoque') renderStock();
            if(id === 'historico') renderHistory();
            if(id === 'fiado') renderDebts();
        }

        // --- CORRE√á√ÉO: LEITOR N√ÉO ABRE MAIS O PAGAMENTO SOZINHO ---
        function autoAddCheck(val) {
            // Fun√ß√£o limpa para evitar disparos acidentais durante a leitura do c√≥digo
        }

        function handleSearchInput(e) {
            const searchInput = e.target;
            const val = searchInput.value.trim();
            const items = document.getElementById('pos-results').getElementsByClassName('search-item');
            
            if (e.key === "ArrowDown") { selectedIdx = Math.min(selectedIdx + 1, items.length - 1); updateSelection(items); return; }
            if (e.key === "ArrowUp") { selectedIdx = Math.max(selectedIdx - 1, 0); updateSelection(items); return; }
            
            if (e.key === "Enter") {
                const currentTime = new Date().getTime();

                // 1. L√≥gica de Enter Duplo com campo vazio para finalizar
                if (val === "" && cart.length > 0) {
                    if (currentTime - lastEnterTime < 500) {
                        openPayModal();
                        lastEnterTime = 0;
                    } else {
                        lastEnterTime = currentTime;
                    }
                    return;
                }

                // 2. Se houver sele√ß√£o visual (setas), adiciona o item
                if (selectedIdx > -1 && items[selectedIdx]) {
                    items[selectedIdx].click();
                    lastEnterTime = 0;
                    return;
                } 

                // 3. Busca por c√≥digo (leitor) ou nome exato
                const p = prods.find(x => x.id === val || x.nome.toLowerCase() === val.toLowerCase());
                if (p) {
                    addToCart(p.id);
                    searchInput.value = ""; 
                    document.getElementById('pos-results').innerHTML = "";
                    lastEnterTime = 0; // Evita que o enter final do leitor seja contado para o pagamento
                }
                return;
            }
            
            selectedIdx = -1;
            doSearch(val);
        }

        function doSearch(v) {
            const res = document.getElementById('pos-results');
            if(!v) { res.innerHTML = ''; return; }
            const m = prods.filter(p => p.nome.toLowerCase().includes(v.toLowerCase()) || p.id.includes(v));
            res.innerHTML = m.map(p => `<div class="search-item" style="padding:12px; border-bottom:1px solid #eee; cursor:pointer" onclick="addToCart('${p.id}')">${p.nome} - R$ ${p.venda.toFixed(2)}</div>`).join('');
        }

        function updateSelection(items) {
            for (let i = 0; i < items.length; i++) items[i].classList.toggle('selected', i === selectedIdx);
        }

        function addToCart(id) {
            const p = prods.find(x => x.id === id);
            const inC = cart.find(x => x.id === id);
            if(inC) inC.q++; else cart.push({...p, q: 1});
            renderCart();
            document.getElementById('pos-search').value = '';
            document.getElementById('pos-search').focus();
        }

        function renderCart() {
            let sub = 0;
            document.getElementById('pos-cart').innerHTML = cart.map((c,i) => {
                sub += c.venda * c.q;
                return `<tr><td>${c.nome}</td><td>${c.venda.toFixed(2)}</td><td><input type="number" value="${c.q}" onchange="cart[${i}].q=parseInt(this.value);renderCart()" style="width:45px; border:1px solid #ddd; border-radius:4px"></td><td>${(c.venda*c.q).toFixed(2)}</td><td><button onclick="cart.splice(${i},1);renderCart()" style="color:red; background:none; border:none; cursor:pointer">X</button></td></tr>`;
            }).join('');
            let total = Math.max(0, sub - descontoTotal);
            document.getElementById('pos-total').innerText = `R$ ${total.toFixed(2)}`;
            document.getElementById('desc-info').innerText = descontoTotal > 0 ? `Desconto: R$ ${descontoTotal.toFixed(2)}` : "";
        }

        function openPayModal() { document.getElementById('pay-modal').style.display = 'flex'; document.getElementById('pay-modal').focus(); selectedPayIdx = 0; updatePaySelection(); }
        function closeModal() { document.getElementById('pay-modal').style.display = 'none'; document.getElementById('pos-search').focus(); }

        function handleModalKeys(e) {
            const btns = document.getElementsByClassName('pay-btn');
            if (e.key === "ArrowDown") { selectedPayIdx = (selectedPayIdx + 1) % btns.length; updatePaySelection(); }
            else if (e.key === "ArrowUp") { selectedPayIdx = (selectedPayIdx - 1 + btns.length) % btns.length; updatePaySelection(); }
            else if (e.key === "Enter") btns[selectedPayIdx].click();
            else if (e.key === "Escape") closeModal();
        }

        function updatePaySelection() {
            const btns = document.getElementsByClassName('pay-btn');
            for (let i = 0; i < btns.length; i++) btns[i].classList.toggle('selected', i === selectedPayIdx);
        }

        async function completeSale(type) {
            let cli = 'Geral';
            if(type === 'Fiado') {
                const { value: nome } = await Swal.fire({ title: 'Nome do Cliente', input: 'text', inputPlaceholder: 'Digite o nome do devedor', showCancelButton: true });
                if (!nome) return;
                cli = nome;
            }
            let brt = 0, luc = 0, items = [];
            cart.forEach(c => {
                const o = prods.find(x => x.id === c.id);
                if(o) o.qtd -= c.q;
                brt += c.venda * c.q;
                luc += (c.venda - (o ? o.custo : 0)) * c.q;
                items.push(`${c.q}x ${c.nome}`);
            });
            let final = Math.max(0, brt - descontoTotal);
            if(type === 'Fiado') {
                const d = debts.find(x => x.nome.toLowerCase() === cli.toLowerCase());
                if(d) d.valor += final; else debts.push({ nome: cli, valor: final });
            }
            sales.push({ d: new Date().toLocaleString(), items: items.join(', '), t: final, l: luc - descontoTotal, type: type });
            cart = []; descontoTotal = 0; save(); renderCart(); closeModal();
            Swal.fire({ icon: 'success', title: 'Venda Conclu√≠da!', text: `Total: R$ ${final.toFixed(2)}`, timer: 2000, showConfirmButton: false });
        }

        async function aplicarDesconto() {
            const { value: valor } = await Swal.fire({ title: 'Aplicar Desconto', input: 'number', inputLabel: 'Valor em R$', inputPlaceholder: '0.00', showCancelButton: true });
            if(valor !== undefined) { descontoTotal = parseFloat(valor) || 0; renderCart(); }
        }

        function saveProd() {
            const p = { id: document.getElementById('cad-id').value, nome: document.getElementById('cad-nome').value, custo: parseFloat(document.getElementById('cad-custo').value), venda: parseFloat(document.getElementById('cad-venda').value), qtd: parseInt(document.getElementById('cad-qtd').value) };
            if(!p.id || !p.nome) { Swal.fire('Erro', 'Preencha os campos!', 'error'); return; }
            prods.push(p); save(); 
            Swal.fire('Sucesso', 'Produto salvo!', 'success');
            document.querySelectorAll('#pg-cadastro input').forEach(i => i.value = '');
        }

        function save() {
            localStorage.setItem('mt_p', JSON.stringify(prods));
            localStorage.setItem('mt_v', JSON.stringify(sales));
            localStorage.setItem('mt_f', JSON.stringify(debts));
        }

        function renderStock() {
            document.getElementById('stock-list').innerHTML = prods.map((p,i) => `<tr><td>${p.id}</td><td><input type="text" value="${p.nome}" onchange="prods[i].nome=this.value;save()"></td><td>${p.custo}</td><td>${p.venda}</td><td><input type="number" value="${p.qtd}" onchange="prods[i].qtd=parseInt(this.value);save()"></td><td><button onclick="prods.splice(${i},1);save();renderStock()" style="color:red; background:none; border:none;">X</button></td></tr>`).join('');
        }

        function renderHistory() {
            let b = 0, l = 0;
            document.getElementById('hist-list').innerHTML = sales.slice().reverse().map((s, i) => {
                b += s.t; l += s.l;
                return `<tr><td>${s.d}</td><td style="font-size:0.7rem">${s.items}</td><td>${s.t.toFixed(2)}</td><td>${s.type}</td><td><button onclick="sales.splice(${sales.length-1-i},1);save();renderHistory()" style="color:red; background:none; border:none;">X</button></td></tr>`;
            }).join('');
            document.getElementById('fat-bruto').innerText = `R$ ${b.toFixed(2)}`;
            document.getElementById('fat-lucro').innerText = `R$ ${l.toFixed(2)}`;
        }

        function renderDebts() {
            document.getElementById('debt-list').innerHTML = debts.map((d,i) => `<tr><td>${d.nome}</td><td>R$ ${d.valor.toFixed(2)}</td><td><button class="btn btn-success" style="padding:5px 10px;" onclick="debts.splice(${i},1);save();renderDebts()">QUITAR</button></td></tr>`).join('');
        }

        function exportDados() {
            const b = new Blob([JSON.stringify({p:prods, v:sales, f:debts})], {type:'application/json'});
            const a = document.createElement('a'); a.href = URL.createObjectURL(b); a.download = `MT-BACKUP.json`; a.click();
        }

        function importDados(e) {
            const r = new FileReader();
            r.onload = (ev) => { const d = JSON.parse(ev.target.result); prods = d.p; sales = d.v; debts = d.f; save(); location.reload(); };
            r.readAsText(e.target.files[0]);
        }

        const cols = ['#6366f1', '#10b981', '#f43f5e', '#f59e0b', '#06b6d4', '#ec4899', '#8b5cf6', '#1e293b'];
        cols.forEach(c => {
            const d = document.createElement('div');
            d.style.height = '40px'; d.style.background = c; d.style.borderRadius = '8px'; d.style.cursor = 'pointer';
            d.onclick = () => { document.documentElement.style.setProperty('--primary', c); localStorage.setItem('mt_t', c); };
            document.getElementById('color-grid').appendChild(d);
        });
        if(localStorage.getItem('mt_t')) document.documentElement.style.setProperty('--primary', localStorage.getItem('mt_t'));
    </script>
</body>
</html>